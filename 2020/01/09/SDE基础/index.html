<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="google-site-verification" content="HXu59hqpozjMzWqFIp85wO31_osshLx4K2kU9vB0GaA">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false,"dimmer":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="credit: rick sun  Overview Data structure is a particular way of organizing data in a computer so that it can be used efficiently. Common data structure  Array Stack Queue Linked List Tree Heap Gra">
<meta property="og:type" content="article">
<meta property="og:title" content="SDE基础">
<meta property="og:url" content="http://hackcraker.github.io/2020/01/09/SDE基础/index.html">
<meta property="og:site_name" content="源泉">
<meta property="og:description" content="credit: rick sun  Overview Data structure is a particular way of organizing data in a computer so that it can be used efficiently. Common data structure  Array Stack Queue Linked List Tree Heap Gra">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109155032491.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109155248666.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/C1493EE98849B4FD9AAD3A6F8B7979BF.jpg">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109213540409.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109213759239.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109214833850.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109214924894.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109215110945.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109215206503.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109215413079.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109222114151.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200110205924072.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111011805822.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111101808263.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111111819955.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111120852718.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111180526943.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111181752308.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111181820225.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200111183507719.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114133602673.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114140012217.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114205944605.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114210331736.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114212147201.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114213236663.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114215837287.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200114224036621.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113135421840.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113185237022.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113190008687.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113190636591.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113190814356.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113191319407.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113191523706.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113193559603.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113193907018.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113195544938.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113211643029.png">
<meta property="og:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200113213713121.png">
<meta property="og:updated_time" content="2020-01-14T15:40:21.351Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SDE基础">
<meta name="twitter:description" content="credit: rick sun  Overview Data structure is a particular way of organizing data in a computer so that it can be used efficiently. Common data structure  Array Stack Queue Linked List Tree Heap Gra">
<meta name="twitter:image" content="http://hackcraker.github.io/2020/01/09/SDE基础/image-20200109155032491.png">






  <link rel="canonical" href="http://hackcraker.github.io/2020/01/09/SDE基础/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>SDE基础 | 源泉</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">源泉</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">You can't leave this world to the people you despise.</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://hackcraker.github.io/2020/01/09/SDE基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucas Chan">
      <meta itemprop="description" content="满地都是六便士,他却抬头看到了月亮。">
      <meta itemprop="image" content="/images/morty.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="源泉">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">SDE基础

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2020-01-09 15:49:41" itemprop="dateCreated datePublished" datetime="2020-01-09T15:49:41+08:00">2020-01-09</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2020-01-14 23:40:21" itemprop="dateModified" datetime="2020-01-14T23:40:21+08:00">2020-01-14</time>
              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2020/01/09/SDE基础/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/01/09/SDE基础/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">32k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">29 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/2020/01/09/SDE基础/image-20200109155032491.png"></p>
<p><img src="/2020/01/09/SDE基础/image-20200109155248666.png"></p>
<blockquote>
<p>credit: rick sun</p>
</blockquote>
<h2 id="overview">Overview</h2>
<p><strong>Data structure</strong> is a particular way of organizing data in a computer so that it can be used efficiently.</p>
<p>Common data structure</p>
<ul>
<li>Array</li>
<li>Stack</li>
<li>Queue</li>
<li>Linked List</li>
<li>Tree</li>
<li>Heap</li>
<li>Graph</li>
<li>Hash table</li>
</ul>
<p>Platform</p>
<ul>
<li>https://www.laioffer.com/</li>
<li>https://www.laicode.io/</li>
</ul>
<h2 id="array-and-sorting-algorithms">Array and Sorting Algorithms</h2>
<p>E.g. int a[10]; Assume a problem's size is n (n elements) , For example: print all the elments of this array.</p>
<p>Big O notation: algorithm complexity (time complexity, space complexity) e.g., <strong>time complexity</strong> O(n). e.g., <strong>space complexity</strong>: how much memory does it need to run this algorithm. O(n) e.g., <strong>auxiliary space complexity</strong>: is the extra space or temporary space used by an algorithm.</p>
<h3 id="selection-sort">Selection Sort</h3>
<p>Example: int[i]=(-1, -3, 4, 7) =&gt; (-3, -1, 4, 7) ascending order iteration 1: find global min -3 (-3, -1, 4, 7) insert 3 to the right place iteration 2; find global min in the rest -3 (-1, 4, 7) =&gt; -3 -1 (4, 7) iteration 3; find global min in the rest -3 -1 (4, 7) =&gt; -3 -1 4 (7) iteration 4; find global min and done .</p>
<p><strong>讲解code要点:</strong> 做题要求: A complete answer will include the following:</p>
<ol type="1">
<li>Document your assumptions</li>
<li>Explain your approach and how you intend to solve the problem</li>
<li>Provide code comments where applicable</li>
<li>Explain the big-O run time complexity of your solution. Justify your answer.</li>
<li>Identify any additional data structures you used and justify why you used them.</li>
<li>Only provide your best answer to each part of the question.</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// selection sort an array a[] with size n.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectionSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> global, temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n<span class="number">-1</span>; i++) &#123;<span class="comment">// outer loop: how many iterations</span></span><br><span class="line">        global = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;<span class="comment">// inner loop: find the global min from the rest elements.</span></span><br><span class="line">            <span class="keyword">if</span> (a[j] &lt; a[global]) &#123;</span><br><span class="line">                <span class="comment">// record the index of the smallest element.</span></span><br><span class="line">                global = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// swap the global (a[index]) min with a[i];</span></span><br><span class="line">        temp = a[i];</span><br><span class="line">        a[i] = a[global];</span><br><span class="line">        a[global] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间复杂度分析: O(n^2)</p>
<p><strong>Discussion:</strong> 1) 什么是面试中一个类型的题? (1.1) Given an array in Stack1, how to sort the numbers by using additional two stacks? Stack1 || 1 3 2 4 . global_ min = Stack2 ||<br>
Stack3 || 通过Stack1和2选择出最小值放在Stack3中，再将Stack1恢复，循环。</p>
<p>(1.2) Follow up, what if only 1 additional stack can be used?</p>
<h3 id="merge-sort">Merge sort</h3>
<p>a[n] = 1,3,5,7,9,8,6,4,2,0 <strong>Space = O(n) // look at the pink path</strong> <strong>Time = O(nlogn)</strong></p>
<p><img src="/2020/01/09/SDE基础/C1493EE98849B4FD9AAD3A6F8B7979BF.jpg"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; mergeSort (<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; a, <span class="keyword">int</span> left, <span class="keyword">int</span> right) &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; solution;</span><br><span class="line">    <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">        solution.push_back(<span class="built_in">array</span>[left]);</span><br><span class="line">        <span class="keyword">return</span> solution;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; solu_left = mergeSort(a, left, mid);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; solu_right = mergeSort(a, mid + <span class="number">1</span>, right);</span><br><span class="line">    solution = combine(solu_left, solu_right);</span><br><span class="line">    <span class="keyword">return</span> solution;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Discussion:</strong> 1) Could we use Merge Sort to sort a linked list?What is the time complexity if so? 可以，在使用快慢指针找到<code>linked list</code>的中点的时间复杂度为O(N)，所以在横线上的每一层都是O(N)的复杂度，但还是logn层，所以总的复杂度不变，仍为O(n logn)。</p>
<ol start="2" type="1">
<li>什么是面试中一个类型的题? (2.1) e.g A1B2C3D4 -&gt; ABCD1234 性质:只是combine function的实现稍微不一样而已。 设置成字母比数字小 <img src="/2020/01/09/SDE基础/image-20200109213540409.png"></li>
</ol>
<p>(2.2) <strong>(Advanced topic 1)</strong> ABCD1234 -&gt; A1B2C3D4<br>
Way of thinking? How to relate 2.1 and 2.2? Do not only focus on solving 1 problem and 1 problem only. <img src="/2020/01/09/SDE基础/image-20200109213759239.png"></p>
<p>(2.3) <strong>(Advanced topic 2)</strong> K-way merge and its application in <strong>Mapreduce</strong> e.g. how to merge TB/PB level data? <strong>Algorithm + System Design</strong></p>
<p>(2.4) <strong>(Advanced topic 3)</strong> count- array problem Given an array A[N] with all positive integers from [1...N]. How to get an array B[N] such that B[i] represents how many elements A[j] (j &gt; i) in array A[] that are smaller than A[i]. For example, given A[N]={4, 1, 3, 2}, we should get B[N]={3, 0, 1, 0}. Requirement: Time = O(nlogn). 性质: 在log(n)层中，combine function能够让每个element都会和其他所有的元素compare至少一次。总的时间复杂度依然是O(nlogn)</p>
<h3 id="quick-sort">Quick sort</h3>
<p>两个挡板 i j, 三个区域 a) b) c) 的思想: a) [o...i) : i 的左侧(不包含i) 全部为比pivot小的数 b) [i...j] : i 和 j 之间为未知探索区域 c) (j...n-1] : j 的右侧(不包含j)全部为比pivot大或等于的数字</p>
<p><img src="/2020/01/09/SDE基础/image-20200109214833850.png"></p>
<p><img src="/2020/01/09/SDE基础/image-20200109214924894.png"></p>
<p><img src="/2020/01/09/SDE基础/image-20200109215110945.png"></p>
<p><img src="/2020/01/09/SDE基础/image-20200109215206503.png"></p>
<p><img src="/2020/01/09/SDE基础/image-20200109215413079.png"></p>
<p><strong>Recursive rule:</strong> Quicksort all numbers to the left of 5, Quicksort all numbers to the right of 5,</p>
<p><strong>Discussion:</strong> 1) What is the worst case scenario for quicksort? Can you provide an example? O(n^2) 每次的规模减小1个，即每次的pivot选择的都是最小或最大值。所以若对time complexity的bound比 较严格的话选择merge sort会好一些。</p>
<ol start="2" type="1">
<li>什么是面试中一个类型的题? (2.1) Array Shuffling 1: Given an array with integers, move all &quot;0s&quot; to the right-end of the array. (2个挡板，3个区域，相向而行)</li>
</ol>
<p>(2.2) Character removal from a string: (Will be discussed later in String) (2个挡板，3个区域，同向而行) Remove one or more types of characters from a string.</p>
<p>(2.3) Quick Partition Problems (2个挡板，3个区域，相向而行)</p>
<p>(2.4) Rainbow sort (abcccabbcbbacaa -&gt; aaaaa bbbbb ccccc) (3个挡板，4个区域，同向 + 相向而行) Answer: <img src="/2020/01/09/SDE基础/image-20200109222114151.png"></p>
<p><strong>initialization:</strong> ¡= 0; all letters to the left-hand side of are all &quot;a&quot;s j= 0; (j is actually the current index) all letters in [i, j) are all &quot;b&quot;s , k= n-1 (all letters to the right-hand side of k are all &quot;c&quot;s). unknown area is [j...k]</p>
<p>若j位置是a，则 i, j互换 i++, j++ 若j位置是b，则 j++ 若j位置是c，则 j, k互换 k--</p>
<p><strong>Discussion:</strong> Class1: What did we learn today?</p>
<ul>
<li>Time/Space complexity</li>
<li>Sorting Algorithms
<ul>
<li>Time/Space, and why?</li>
<li>When to prefer to use one to another?</li>
<li>Understand sorting algorithms with design problems?</li>
<li>More to do :-)</li>
</ul></li>
</ul>
<h2 id="recursion-i">Recursion I</h2>
<p><strong>Recursion</strong> 需要掌握的知识点: 1) 表象上: function calls itself 2) 实质上: Boil down a big problem to smaller ones (size n depends on size n-1, or n-2 or...n/2) 3) <strong>Implementation</strong>上: a) <strong>1. Base case:</strong> smallest problem to solve b) <strong>2. Recursive rule.</strong> how to make the problem smaller (if we can resolve the same problem but with a smaller size, then what is left to do for the current problem size n) 4) to be continued ...</p>
<p><strong>Recursion Question 1: Fibonacci sequence</strong> Base case: F(0)= 0; F(1)= 1; Recursive rule: F(n) = F(n-1) + F(n-2);</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Calculating Fibonacci value</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fibo</span> <span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Base case. (进入function之后首先check是否要停下来)</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fibo(n<span class="number">-1</span>) + fibo(n<span class="number">-2</span>);  <span class="comment">// Recursive rule</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><a href="https://www.laioffer.com/zh/news/2017-06-22-what-is-call-stack/" target="_blank" rel="noopener">Call Stack</a></strong> (Term): was designed to record all local variables that are allocated in the stack. content: Level1: n = 4 Level2: n = 3 Level3: n = 2 Level4: n = 1 <img src="/2020/01/09/SDE基础/image-20200110205924072.png"></p>
<p>There are n levels in the recursion tree, and this recursion tree is a binary tree. Thus, there are totally at most O(2^n) nodes in the tree. <strong>Time = O(2^n)</strong> <strong>Trick:</strong> 所有前面的node的个数的总和，都没有最后一层node的个数多，因此我们分析tree的time complexity,往往只看最后一层node的个数。 <strong>Space = O(n)</strong> because there are n levels of recursion function call, and thus there are n levels of call_ stack. In call_ stack, each level only stores 1 local variable, that is, int n.</p>
<p><strong>Recursion Question 2:</strong> How to calculate a^b (where a is an integer and b is also an integer, we do not care about the corner case where a = 0 or b &lt; 0 for now) 求 2^1000 a=2 b=1000</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">a_power_b</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> half_result = a_power_b(a, b/<span class="number">2</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (b % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> half_result * half_result;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> half_result * half_result * a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="binary-search">Binary Search</h2>
<p>what is binary search in the context of an array? 1) Array has to be sorted. ascending or descending 1 2 3 5 7 9 ... ?????? <strong>Not necessarily the case.</strong> 2) Problem to solve?</p>
<p>Array 1 3 7 23 57 ... 100 99 86 44 32 21 find the maximum <strong>Essentially, the principle</strong> of binary search is to reduce the search space by 1/2 of its original size. In the meantime, you must guarantee that the target must not be ruled out.</p>
<p>--- to find an element/number in an array, -&gt; sorted array. <strong>Example: a[7] = 1 2 4 5 7 8 9</strong> whether <strong>4</strong> is in this array or not.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">index</th>
<th style="text-align: center;">0</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A[7]</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;"><font color="purple">4</font></td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">7</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">9</td>
</tr>
</tbody>
</table>
<p>Iteration 1: L = 0, R = 6, M = 3 A[M] == A[3] == 5 &gt; target == 4, so R = M-1 = 2; Iteration 2: L = 0, R = 2, M = 1 A[M] == A[1] == 2 &lt; target == 4, so L = M+1=2; Iteration 3: L = 2, R = 2, M = 2 A[M] == A[2] == 4 == target , so Done!!!</p>
<p>n element -&gt; time complexity O(log(n));</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Classical Version 1.0</span></span><br><span class="line"><span class="comment">// return any target element's index</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary_search</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = size - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Apply binary search in 2D space</strong> <strong>Variant 1.0 application:</strong> 2D matrix, sorted on each row, first element of next row is larger (or equal) to the last element of previous row, now giving a target number, returning the position that the target locates within the matrix</p>
<p>1 2 3 4</p>
<p>5 6 <strong>7</strong> 8 target == 7</p>
<p>9 10 11 12</p>
<p><strong>Solution1:</strong> Step1: Run binary search in the 0-th column to find the possible row that contains target Step2: Run 2nd binary search, in the particular row to find target (if any) Time = O(logm + logn) = O(log(m*n))</p>
<p><strong>Solution2:</strong> Run only 1 time of binary search Left= [0] [0], Right =[m-1]x[n-1], 1D =mxn-1 Mid[row] [col]= (left + right) / 2 = mid_size row= mid_ size / col; col = mid_ size % col; Time = O(log (m*n) )</p>
<p><strong>Variant 1.1</strong> how to find an element in the array that is closest to the target number? // e.g int a[5] = {1, 2, 3, 8, 9}; target = 4 should return 3 <img src="/2020/01/09/SDE基础/image-20200111011805822.png" alt="image-20200111011805822"> only need to contain the wanted target in the range, not rule out the target number.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary_search</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> size, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = size - <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (left + <span class="number">1</span> &lt; right) &#123; <span class="comment">// avoid infinite loop</span></span><br><span class="line">        <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a[mid] &gt; target) &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// post-processing</span></span><br><span class="line">    <span class="keyword">if</span> (Math.abs(a[left] - target) &lt; Math.abs(a[right] - target)) &#123;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中 line10 <code>right = mid</code> 不能改为 <code>right = mid - 1</code> 其中 line11 <code>left = mid</code> 不能改为 <code>left = mid + 1</code> 反例 [1, 2, 8, 10] target = 3 如果更改了right或left 有可能删掉了想要的index 其中 line5 <code>while</code> 循环条件 <code>start + 1 &lt; end</code> 可以保证循环内 <code>start</code> 和 <code>end</code> 不相邻，从而避免死循环</p>
<p><strong>Variant 1.2</strong> return the index of the first occurrence of an element, say 5</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">index</th>
<th style="text-align: center;">0</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A[7]</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">5</td>
</tr>
</tbody>
</table>
<p>Iteration 1: L = 0, R = 6, M = 3 A[M] == A[3] == 5 == target, so R = M = 3; Iteration 2: L = 0, R = 3, M = 1 A[M] == A[1] == 5 == target, so R = M = 1; 因为左右边界相邻，我们 terminate binary search，再做 post processing.</p>
<p><strong>Variant 1.3</strong> return the index of the last occurrence of an element e.g. inta[6] = [4, 5, 5, 5, 5, 5]; if target == 5; then index 5 is returned; if target == 10; then -1 is returned; <img src="/2020/01/09/SDE基础/image-20200111101808263.png"></p>
<p><strong>Variant 1.4</strong> how to find closest k elements in the array that is <strong>closest</strong> to the target number? e.g int a[5] = {1, 2, 3, 8, 9}; Target == 4; k = 3, solu = {3, 2, 1} <strong>Solution:</strong> Step1: we first move L and R by using binary search to make it close to the target number, until there are two or less elements in between L and R. Step2: 谁小移谁 <strong>Time = O(logn+ k)</strong></p>
<p><strong>Variant 1.5</strong> how to find the smallest element that is larger than a target number?</p>
<p><strong>Binary Search Variant 2.0:</strong> Important Question: Given a sorted dictionary with unknown size, how to determine whether a word is in this dictionary or not. Example: dictionary[x] = { 1 3 5 7 9 ..... 100 .... 1000000000 ..... } Target == 9999 assumption if dictionary[index] == NULL then we know the size of dictionary is &lt; index; Step1 jump out step = 2 Step2 jump out step = 2^2 = 4 Step3 jump out step = 2^3 = 8 Step4 jump out step = 2^4 = 16 Stepk until dictionary[2^k] &gt;= target OR dictionary[2^k] == null<br>
// target can exist and its 2^(k-1) &lt; index &lt; 2^k</p>
<p><strong>Further discussion about binary search:</strong> Why not jump_ step = jump_ step * 10, instead of jump_ step = jump_ step * 2 <img src="/2020/01/09/SDE基础/image-20200111111819955.png"> 10Times: log_10 (n) + log_2 (10n) 2 Times: log_2 (n) + log_2 (2n) <strong>比较10 times - 2 times即可</strong></p>
<p><strong>Discussion</strong> When to use binary search 1) very very classical problem: when the input is completely/partially sorted a. sorted array b. sorted array but shifted C. two sorted order array but Array 1 3 7 23 57 .... 100 99 86 44 32 21 2) has some logic rule under the hood. but you can figure out proof that you can disregard 1/2 searching range each time ARRAY 1 XXXXXXXXXXXXXXXXXXX m ARRAY 2 YYYYYYYYYYYYYYYY n (m+n)/2 no no no!!!! FIND THE K-th smallest element in the array Yes: reduce the search range from k to k/2</p>
<h2 id="queue-stack">Queue &amp; Stack</h2>
<p><strong>Queue</strong> 1.1. Example: wait in a line, FIFO == First in first out 1.2. Usages: Breadth-First Search related problems 1.3. C++ reference http://www.cplusplus.com/reference/queue/queue/ 1.4. 典型问题 1.4.1. Tree print out by level 1.4.2. Sliding window problems (Deque: double ends manipulation)</p>
<p><strong>poll()</strong> -- take the element from head <strong>peek()</strong> -- look at the element at the head <strong>offer(</strong>) -- insert the element at the tail <img src="/2020/01/09/SDE基础/image-20200111120852718.png"></p>
<p><strong>Stack</strong> LIFO Last in first out: like a box e.g. insertion order 1.2.3.4, then in the stack, it looks like <strong>5 &lt;- top of the stack. All operations can only be done to this element</strong> <strong>4</strong> <strong>3</strong> <strong>2</strong> <strong>1 &lt;- bottom of the stack</strong> All operations available: <strong>push(), pop(), top()</strong> Implementation: popular data structure: array or vector</p>
<p><strong>Four popular interview questions:</strong> <strong>Question 1: How could we implement a queue by using two stacks?</strong>            head                             tail            1 2 3 4 lI        II 5 6 7 8 9                 stack1        stack2</p>
<p>stack 1 -&gt; responsible for poll() -&gt; stack1.pop() stack 2 -&gt; responsible for offer() -&gt; stack2.push()</p>
<p>case1. if stack1 is not empty, stack1.pop() case2. if stack2 is empty -&gt; pop elements from stack2 and push them into stack1</p>
<p><strong>Time Complexity:</strong> offer() - O(1) poll() - worst case - case2 O(n) <strong>Amortized Analysis:</strong> for the n elements: for the first element - worst case (2n + 1) pop all from stack2 and push all into the stack 1 and pop 1 element from stack1 for the following n-1 elements - 1 * (n-1)</p>
<p>total 2n + 1 + n - 1 = 3n <strong>O(3n)/n = O(3) = O(1) -- Amortized Time Complexity.</strong></p>
<p><strong>Question 2: How to implement the min() function when using stack with time complexity O(1);</strong> stack1 II 5 4 3 4 5 stack2 II 5 4 3 3 3 stack2: maintain the corresponding min value according to stack1. <strong>Follow up Question: how to optimize the space when there are a lot of duplicate elements in stack1?</strong>stack1 II 5 4 3 3 3 3 3 3 3 3 3 stack2 II 5 4 3 <del>3 3 3 3 3 3 3 3</del></p>
<p>stack1 II 5 4 3 3 3 3 3 3 3 3 3 stack2 II &lt;5, 0&gt; &lt;4, 1&gt; &lt;3, 2&gt;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Wrapper</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line">    <span class="keyword">int</span> pos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>pop only when -&gt; stack1.size() == stack2.peek().pos + 1</p>
<p><strong>Question 3: How to sort numbers with two stacks</strong> stack1 II 1 2 2 2 4 3 stack2 II 1 stack2 to maintain the numbers in sorted order. two variable: globalMin and counter while (stack2.top() &gt;= globalMin) {</p>
<p>}</p>
<p><strong>Question 4: How to use multiple stacks to implement a de-queue(double ended queue)</strong>            head                             tail            1 2 3 4 lI        II 5 6 7 8 9                 stack1        stack2</p>
<p>pushL stack1.push() pushR stack2.push()</p>
<p>popL case1: stack1 is not empty, O(1) case2: if stack1 is empty, we need to pop all the elements from stack2 and push them to stack1 popR case1: stack2 is not empty, O(1) case2: if stack2 is empty, we need to pop all the elements from stack1 and push them to stack2</p>
<p><strong>Worst case: amortized Time Complexity O(n)</strong> e.g. stack1: empty stack2: empty pushR(5, 6, 7, 8, 9) - n elements popL - n popR - n-1 popL - n-2 popR - n-3 ...... Total: O(n + n-1 + n-2 + ... + 1) = O(n^2), O(n^2) / n = O(n)</p>
<p><strong>How to optimize to O(1)?</strong> 分析复杂度高的原因是每次都将所有元素移动，如果借助一个辅助栈只移动一半元素，时间平摊到其他操作则会大幅度降低复杂度。 intuition: move <strong>half</strong> of the elements in stack2 to stack1. 第一次操作： stack2移动一半元素到stack3 O(n) stack2移动剩余一半元素到stack1 O(n) stack3移动回元素到stack2 O(n) 0.5n个元素其余次操作: O(1) amortized Time Complexity: ( O(n) + O(n) + O(n) + O(0.5n) ) / 0.5n = O(7) = O(1)</p>
<p><strong>Discussion: 什么问题要往Stack上考虑?</strong> 从左到右linear scan一个array/string时, 如果要不断回头看左边最新的元素时往往要用到stack 1) Histogram中找最大的长方形 2) reverse polish notation逆波兰表达式的计算a* (b+c) → abc+* 3) String的repeatedly deduplication. cabba → caa → c</p>
<h2 id="linkedlist">LinkedList</h2>
<p><strong>Key points:</strong> 1) When you want to de-reference a ListNode, make sure it is not a NULL pointer 2) Never ever lost the control of the head pointer of the LinkedList</p>
<p><strong>Question: How to reverse a linked list?</strong> Node1(head) --&gt; Node2 --&gt; Node3 --&gt; Node4 .... --&gt; NodeN --&gt; NULL reversed: NULL &lt;-- Node1&lt;-- Node2 &lt;-- Node3 &lt;-- .... &lt;-- NodeN( head)</p>
<p><strong>Iterative Solution:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Solution1: create a new linked list</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverse</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode newHead = <span class="keyword">null</span>;</span><br><span class="line">    ListNode cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode next = cur.next;</span><br><span class="line">        cur.next = newHead;</span><br><span class="line">        newHead = cur;</span><br><span class="line">        cur = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Solution2: 原地反转指针指向</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverse</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode next = head.next;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> (next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode cur = next;</span><br><span class="line">        next = next.next;</span><br><span class="line">        cur.next = head;</span><br><span class="line">        head = cur;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Recursive Solution:</strong> <img src="/2020/01/09/SDE基础/image-20200111180526943.png" alt="image-20200111180526943" style="zoom:90%;"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Recursive way:</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseLinkedList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == NULL || head.next == NULL) <span class="keyword">return</span> head; <span class="comment">// base case</span></span><br><span class="line">    ListNode newHead = reverseList(head.next);</span><br><span class="line">    <span class="comment">// breaking point..</span></span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> newHead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/01/09/SDE基础/image-20200111181752308.png"></p>
<p><img src="/2020/01/09/SDE基础/image-20200111181820225.png"></p>
<p><strong>常见考题:</strong> Q1. How to find the middle node of a linked list? 快慢指针 偶数个节点选左边的那个，因为左边的next node就是右边的。 Q2. 用快慢指针判定一个linkedlist是否有环。 Q3. Insert a node in a sorted linked list (simple) N1 &lt; node &lt; N2 找到N1和N2 Q4. How to merge two sorted linked list into one long sorted linked list 有可能插头或插尾，处理corner case使用dummy node <img src="/2020/01/09/SDE基础/image-20200111183507719.png" alt="image-20200111183507719" style="zoom:83%;"> step 1: find mid node step 2: reverse the second half list step 3: merge two sub lists.</p>
<p>Q6. Partition List: Given a linked list and a value x, partition it such that all nodes less than x come first, then all nodes with value equal to x or greater than or equal to x. The original relative order of the nodes in each of the two partitions should be preserved. For example, Input: 1 -&gt; 6 -&gt; 3 -&gt; 2a -&gt; 5 -&gt; 2b and target x = 4, result: 1 -&gt; 3 -&gt; 2a -&gt; 2b -&gt; 6 -&gt; 5.</p>
<p><strong>Solution:</strong> Step1: allocate two new linked list heads; Step2: Iterate over every single element in the list, and compare with the current node's value with the target's value. Case1 if current.value &lt; target.value: Add the current node to the tail of the first linked list . Case2: otherwise, add the current node to the tail of the second linked list. 1st half (small values ) 2nd half (large values ) Step3: Concatenate the tail of the first half to the head of the 2nd linked list. Step4: The tail of the large <strong>list.next == NULL</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PartitionLinkedList</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> ListNode <span class="title">partition</span> <span class="params">(ListNode head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"> 		<span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        ListNode fakeHeadSmall = <span class="keyword">new</span> ListNode(<span class="number">0</span>); </span><br><span class="line">        ListNode fakeHeadLarge = <span class="keyword">new</span> ListNode(<span class="number">0</span>); </span><br><span class="line">        ListNode smallTail = fakeHeadSmall; </span><br><span class="line">        ListNode largeTail = fakeHeadLarge; </span><br><span class="line">        ListNode current = head;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (current.val &lt; x) &#123;</span><br><span class="line">                smallTail.next = current;</span><br><span class="line">                smallTail = current;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                largeTail.next = current;</span><br><span class="line">                largeTail = current;</span><br><span class="line">            &#125;</span><br><span class="line">            current = current.next;</span><br><span class="line">        &#125;</span><br><span class="line">        largeTail.next = <span class="keyword">null</span>; <span class="comment">// terminate the list with null</span></span><br><span class="line">        smallTail.next = fakeHeadLarge.next;</span><br><span class="line">        <span class="keyword">return</span> fakeHeadSmall.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="binary-tree-binary-search-tree">Binary Tree &amp; Binary Search Tree</h2>
<p>Definition: at most two children node.</p>
<p>Example: <img src="/2020/01/09/SDE基础/image-20200114133602673.png"></p>
<p><strong>Trick: base case usually refers to the null ChildNode below the leaf node.</strong></p>
<p><strong>基本概念</strong></p>
<ul>
<li><strong>Balanced binary tree:</strong> is commonly defined as a binary tree in which the depth of the left and right subtrees of <strong>every</strong> node differ by 1 or less.</li>
<li><strong>Complete binary tree:</strong> is a binary tree in which every level, except possibly the last, is completely filled, and all nodes are as far left as possible.</li>
<li><strong>Binary Search tree:</strong> for every node in the tree, the values in its left subtree are all smaller than its value, and the values in its right subtree are all larger than its value.</li>
</ul>
<p><strong>Discussion (High Level)</strong> <img src="/2020/01/09/SDE基础/image-20200114140012217.png"></p>
<ul>
<li>Binary tree往往是最常见的，和recursion 结合最紧密的面试题目类型。</li>
<li>Reasons:
<ul>
<li>每层的node具备的性质，传递的值和下一层的性质往往一致。比较容易定义<strong>recursive rule</strong>.</li>
<li>Base case (generally): null pointer under the leaf node</li>
<li>Example1: int getHeight (Node root)</li>
<li>Example2: 统计tree里边有多少个node?</li>
</ul></li>
<li>Fundamental Knowledge:
<ul>
<li>Traversal of a binary tree</li>
<li>Definition
<ul>
<li>Balanced binary tree</li>
<li>Complete binary tree</li>
<li>Binary search tree (BST)</li>
</ul></li>
</ul></li>
</ul>
<p><strong>Binary Tree</strong></p>
<p>Q1. Get height of a binary tree</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHeight</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + Math.max(getHeight(root.left), getHeight(root.right));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Time = O(n) where n is the total number of the nodes Space = O(n) == O(height)</p>
<p>Q2. How to determine whether a binary tree is a balanced binary tree?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBalanced</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> leftHeight = getHeight(root.left);</span><br><span class="line">    <span class="keyword">int</span> rightHeight = getHeight(root.right);</span><br><span class="line">    <span class="keyword">if</span> (Math.abs(leftHeight - rightHeight) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isBalanced(root.left) &amp;&amp; isBalanced(root.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2020/01/09/SDE基础/image-20200114205944605.png" alt="image-20200114205944605"><figcaption>image-20200114205944605</figcaption>
</figure>
<p>Q3. How to judge whether a binary tree is symmetric? <img src="/2020/01/09/SDE基础/image-20200114210331736.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span> <span class="params">(TreeNode left, TreeNode right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="keyword">null</span> || right == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left.value != right.value) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isSymmetric(left.left, right.right) &amp;&amp; isSymmetric(left.right, right.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Time = O(n) Space = O(n)</p>
<p>Q3. Let's assume if we tweak the Ichild with rchild of an arbitrary node in a binary tree, then the &quot;structure&quot; of the tree are not changed. Then how can we determine whether two binary trees' structures are identical. <img src="/2020/01/09/SDE基础/image-20200114212147201.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isIdentical</span> <span class="params">(TreeNode left, TreeNode right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="keyword">null</span> || right == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left.value != right.value) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isIdentical(left.left, right.left) &amp;&amp; isIdentical(left.right, right.right) </span><br><span class="line">        || isIdentical(left.left, right.right) &amp;&amp; isIdentical(left.right, right.left);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure>
<img src="/2020/01/09/SDE基础/image-20200114213236663.png" alt="image-20200114213236663"><figcaption>image-20200114213236663</figcaption>
</figure>
<p><strong>Total number of nodes in this quad tree = 4^(log2(n)) = 2^(2log2(n)) = O(n^2)</strong></p>
<p><strong>Binary Search Tree</strong></p>
<p>Q1. How to determine a binary tree is a BST? <img src="/2020/01/09/SDE基础/image-20200114215837287.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBSTHelper</span><span class="params">(TreeNode root, <span class="keyword">int</span> min, <span class="keyword">int</span> max)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.val &lt;= min || root.val &gt;= max) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isBSTHelper(root.left, min, root.val) </span><br><span class="line">        &amp;&amp; isBSTHelper(root.right, root.val, max);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Time = O(n) Space = O(height) = O(n)</p>
<p><strong>Discussion</strong> Recursion在tree题目的基本应用大致分为2类用法（存疑）</p>
<ol type="1">
<li>把value从上往下传递(then从下往上)的题目
<ul>
<li>BST判定方法</li>
</ul></li>
<li>把value从下往上传递(更为常见，必须熟练掌握)
<ul>
<li>getHeight(TreeNode root) 是经典的把integer value从下往上传递的题</li>
<li>isBalanced(TreeNode root)是把boolean value从下往上传递的题目</li>
<li>isSymmetric(TreeNode root1, TreeNode root2)是把boolean value从下往上传递的题目</li>
<li>Assign the value of each node to be the total number of nodes that belong to its left subtree. (是把integer value从下往上传递的题目)</li>
</ul></li>
</ol>
<p>Q2. Print BST keys in the given range Given two values k1 and k2 (where k1 &lt; k2) and a root pointer to a Binary Search Tree. Print all the keys of tree in range k1 to k2. i.e. print all x such that k1 &lt;= x &lt;=k2 and x is a key of given BST. Print all the keys in an increasing order. <img src="/2020/01/09/SDE基础/image-20200114224036621.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rangeInOrder</span><span class="params">(TreeNode root, <span class="keyword">int</span> k1, <span class="keyword">int</span> k2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.value &gt; k1) &#123;</span><br><span class="line">        rangeInOrder(root.left, k1, k2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.value &gt;= k1 &amp;&amp; root.value &lt;= k2) &#123;</span><br><span class="line">        System.out.println(root.value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (root.value &lt; k2) &#123;</span><br><span class="line">        rangeInOrder(root.right, k1, k2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="heap">Heap</h2>
<p><strong>堆 </strong>(英语: heap) 亦被称为: <strong>优先队列 </strong>(英语: priority queue) Example <img src="/2020/01/09/SDE基础/image-20200113135421840.png"></p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">index</th>
<th style="text-align: center;">0</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">value</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">5</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">7</td>
</tr>
</tbody>
</table>
<p><strong>Heap: is an unsorted array but have special rules to follow</strong> 性质: 堆的实现通过构造二叉堆(binary heap), 这种数据结构具有以下性质 1. 任意节点小于它的所有后裔，最小元素在堆的根上(<strong>堆序性</strong>)。 2. 堆总是一棵<strong>完全树</strong>。complete tree 3. 将根节点最大的堆叫做MAX HEAP，根节点最小的堆叫做最小堆MIN HEAP 4. index of lChild = index of parent X 2 + 1 5. index of rChild = index of parent X 2 + 2 6. unsorted but follow rules above</p>
<p>支持的基本操作 1. insert: 向堆中插入一个新元素；时间复杂度O(log(n)) 2. update: 将新元素提升使其符合堆的性质；时间复杂度O(log(n)) 3. get/top: 获取当前堆顶元素的值；时间复杂度O(1) 4. pop: 删除堆顶元素；时间复杂度O(log(n)) 5. heapify: 使得一个unsorted array变成一个堆。<strong>时间复杂度O(n)</strong></p>
<p><strong>经典考题</strong> <strong>Q1</strong> Find <strong>smallest</strong> k elements from an <strong>unsorted</strong> array of size n.</p>
<ul>
<li><p><strong>Solution1:</strong> sort it and return the first k element! Time = O(nlogn)</p></li>
<li><p><strong>Solution2:</strong> e.g. k= 3, Use selection sort principle 1st iteration to find 1st smallest element to return 2nd iteration to find 2nd smallest element to return ... k-th iteration to find the k-th smallest Time = O(k * n)</p></li>
<li><p><strong>Solution3: MIN-HEAP of size n</strong> Step1: heapify the whole array to make it a MIN-heap. O(n) Step2: keep popping k times k*log(n) Total time = O(n) + O(klog(n))</p></li>
<li><p><strong>Solution4: MAX-HEAP of size k</strong> xxxxxx Yxxxxxxxxxxxxxxxxxxxx size= k k+1 Step1: insert all first k elements into a max-heap (optimization heapify first k element) O(k) Step2: from the k+1-th element to the n-th element, if the current element Y</p>
<ul>
<li><p>case2.1 Y &lt; max-heap.top(), we call <strong>max-heap.pop()</strong>, and then <strong>max-heap.insert(Y)</strong></p></li>
<li><p>case2.2 Y &gt;= max-heap.top(), do nothing.</p></li>
</ul>
<p>Time = O(k) + O((n-k) * log(k)</p></li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">COMPARISON:3, 4</th>
<th style="text-align: center;">MIN-HEAP</th>
<th style="text-align: center;">MAX-HEAP</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Time Complexity</td>
<td style="text-align: center;">O(n) + O(klog(n))</td>
<td style="text-align: center;">O(k) + O((n-k) * log(k)</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">Case1 k &lt;&lt;&lt; n</td>
<td style="text-align: center;">O(n)</td>
<td style="text-align: center;">O(n) * log(k)</td>
<td style="text-align: center;">hard to say</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Case2 k~n</td>
<td style="text-align: center;">O(nlogn)</td>
<td style="text-align: center;">O(nlogn)</td>
<td style="text-align: center;">hard to say</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Solution5: average time = O(n)</strong><img src="/2020/01/09/SDE基础/image-20200113185237022.png" alt="image-20200113185237022">on average= on average = O(n + n/2 + n/4 + n/8+ 1...) = O(n) worst case = O(n^2)</li>
</ul>
<h2 id="graph-i">Graph I</h2>
<figure>
<img src="/2020/01/09/SDE基础/image-20200113190008687.png" alt="image-20200113190008687"><figcaption>image-20200113190008687</figcaption>
</figure>
<ol type="1">
<li>Node / State</li>
<li>Edge / action</li>
<li>Directed vs undirected graph</li>
<li>Representation of the graph</li>
</ol>
<ul>
<li>Adjacency Matrix <img src="/2020/01/09/SDE基础/image-20200113190636591.png" alt="image-20200113190636591"><br>
<strong>Pros:</strong> Representation is easy to implement. Edge removal takes O(1) time. Queries like whether there is an edge from vertex 'u' to vertex 'V' are efficient and can be done O(1).</li>
<li>Adjacency List <img src="/2020/01/09/SDE基础/image-20200113190814356.png" alt="image-20200113190814356"> Vertices/nodes: IVI Edges: IEI <strong>Pros:</strong> Space complexity= O(lVI+lEl) . Adding a vertex/node to the graph is easier. <strong>Cons:</strong> Time complexity is O(V) to check whether there is an edge from a node to the other. (compared to O(1) in adjacent matrix)</li>
<li>Use a hash_table &lt;key = node, value = set of successors&lt; Node &gt;&gt; <img src="/2020/01/09/SDE基础/image-20200113191319407.png" alt="image-20200113191319407"></li>
</ul>
<p><strong>图里常用的search算法</strong></p>
<h3 id="breadth-first-search-bfs-1">Breadth-First Search (BFS-1):</h3>
<p><img src="/2020/01/09/SDE基础/image-20200113191523706.png"> print/visit = 1 32 547 9 11</p>
<p><strong>How to describe a relatively complex algorithm:</strong></p>
<ol type="1">
<li>what kind of data structure that this algorithm uses queue</li>
<li>what are the actions of this algorithm step by step
<ul>
<li>initial state: insert the start node into the queue queue = {1}</li>
<li>process: while the queue is not empty, pop the left-most element out of the queue and expand it, generate all its successors and insert all of them into the tail of the queue</li>
<li>termination condition: when the queue is empty</li>
</ul></li>
</ol>
<p><strong>经典例题1：分层打印一个binary tree</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// param: root - the root of the tree</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">BFS</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Node&gt; q = <span class="keyword">new</span> LinkedList&lt;Node&gt;();</span><br><span class="line">    q.offer(root);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size(); <span class="comment">// size = # of generated nodes in the next layer.</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            Node n = q.remove();</span><br><span class="line">            <span class="keyword">if</span> (n.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">                q.offer(n.left);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (n.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                q.offer(n.right);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(n.val + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>经典例题2: Bipartite</strong> : whether a graph's node can be divided into two group, such that the nodes in each group do not have direct edges between the nodes that belong to the same group. <img src="/2020/01/09/SDE基础/image-20200113193559603.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GraphNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">char</span> set; <span class="comment">// u or v?</span></span><br><span class="line">    ArrayList&lt;GraphNode&gt; succesors;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>经典例题3:</strong> Determine whether a binary tree is a complete binary tree <img src="/2020/01/09/SDE基础/image-20200113193907018.png"> <strong>Solution:</strong> after detecting the first node that misses one child, then check if all following nodes expanded have any node generated (if any, then false)</p>
<p><strong>Discussion:</strong> When to consider to use BFS?</p>
<ol type="1">
<li>When we want to deal with the node relationship in the same level</li>
<li><strong>(Common mistake):</strong> BFS1 is NOT the right algorithm to find the shortest path from point A to point B in an arbitrary graph (cost might not be the same).
<ul>
<li>if the edge costs in the graph are all the same (= uniform) then BFS1 can find the shortest path.</li>
</ul></li>
</ol>
<h3 id="best-first-search-bfs-2"><strong>Best First Search (BFS-2)</strong></h3>
<p>经典算法: Dijkstra's Algorithm (runtime efficiency improvement: A * algorithm)</p>
<ol type="1">
<li><p><strong>Usages:</strong> Find the shortest path from a single node (source node) to any other nodes in that graph (<strong>点到面(==所有点)</strong>的最短距离算法)/</p></li>
<li><p><strong>Example problem:</strong> 从北京到中国其他所有主要城市的最短距离是多少</p></li>
<li><p><strong>Data structure:</strong> priority_queue (MIN_HEAP)</p></li>
<li><p><strong>解题思路</strong> 4.1 Initial state (start node)</p></li>
</ol>
<p>4.2 Node expansion/Generation rule:</p>
<p>4.3 Termination condition: 所有点都计算完毕才停止，也就是p_ queue变空</p>
<ol start="5" type="1">
<li><strong>Example</strong></li>
</ol>
<figure>
<img src="/2020/01/09/SDE基础/image-20200113195544938.png" alt="image-20200113195544938"><figcaption>image-20200113195544938</figcaption>
</figure>
<ul>
<li><strong>initial state:</strong> no nodes have been expanded, p_queue = {node(4,0)}</li>
<li><strong>process:</strong> p_queue.pop(), pop node(4,0) out of the p_queue, expand node(4,0) generate three successors: node(5,10), node(3,1), node(6,1), p_queue = {node(5,10), node(3,1), node(6,1)}</li>
<li>tie breaking strategy: random pop node(6,1) generate nothing, p_queue = {node(5,10), node(3,1)}</li>
<li>pop node(3,1) generate node(2, cost == parent cost + 1) = (2,2), p_queue = {node(5,10), node(2,2)}</li>
<li>pop node(2,2) generate node(5, 2+1) and node(1,2+1), p_queue = {node(5,3), node(1,3)}</li>
<li>pop node(5,3), p_queue = {node(1,3)}</li>
<li>pop node(1,3), p_queue = {}</li>
<li><strong>terminate</strong></li>
</ul>
<ol start="6" type="1">
<li><strong>properties</strong></li>
</ol>
<ul>
<li>one node can be expanded once and only once</li>
<li>one node can be generated more than once. (cost can be reduced over time)</li>
<li>all the cost of the nodes that are expanded are monotonically non-decreasing (所 有从priority queue里面pop出来的元素的值是单调非递减 -&gt; 单调递增)</li>
<li>time complexity, for a graph with n node is O(nlogn)</li>
<li>when a node is popped out for expansion, its value is fixed which is equal to the shortest distance from the start node.</li>
</ul>
<p><strong>经典考题: (运用Dijkstra's Algorithm的性质)</strong> Given a matrix of size NxN, and for each row the elements are sorted in an ascending order, and for each column the elements are also sorted in an ascending order. How to find the k-th smallest element in it?</p>
<figure>
<img src="/2020/01/09/SDE基础/image-20200113211643029.png" alt="image-20200113211643029"><figcaption>image-20200113211643029</figcaption>
</figure>
<p><strong>Solution:</strong></p>
<ol type="1">
<li>Initial state: start node = [0] [0]</li>
<li>Node expansion/ generation rule: expand [i] [j] generate [i] [j+1] and [i+1] [j]</li>
<li>Termination condition: when the k-th element is popped out of the p-queue</li>
</ol>
<p><strong>Analysis:</strong> there are totally k nodes to be popped out of the p-queue (= k iterations) for each iteration</p>
<ul>
<li><p>pop 1 element out of the p-queue (p-queue size &lt; 2k) time = log(2k)</p></li>
<li><p>generate 2 elements and insert them into the p-queue time = 2log(2k)</p></li>
<li><p>Total time for each iteration = 3log(2k) Since there are k iterations, the total time = k * 3log(2k) = 3k(log2k) = k log(k)</p></li>
</ul>
<figure>
<img src="/2020/01/09/SDE基础/image-20200113213713121.png" alt="image-20200113213713121"><figcaption>image-20200113213713121</figcaption>
</figure>
<p>1 2a 2b 3a 3b 3b 3c 4 k= 7 your solution return 3c, correct answer should be 4.<br>
The reason is due to the fact that 3b was generated twice!</p>
<p><strong>Our question is how to de-duplicate 3b 3b?</strong></p>
<ul>
<li>method1: we can use a hash_ set &lt;pair&lt;x, y&gt;&gt;</li>
<li>method2: use another 2D matrix to save if a node is visited or not</li>
</ul>
<p>##Hash table</p>
<h2 id="string">String</h2>
<h2 id="dynamic-programming-i">Dynamic Programming I</h2>
<hr>
<p><font color="purple">End</font></p>

      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>捧个钱场？</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById(&quot;QR&quot;); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="Lucas Chan 微信支付">
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Lucas Chan 支付宝">
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        




  



<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Lucas Chan</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    
    <a href="http://hackcraker.github.io/2020/01/09/SDE基础/" title="SDE基础">http://hackcraker.github.io/2020/01/09/SDE基础/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>

      </div>
    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/01/09/Python基础/" rel="next" title="Python基础">
                <i class="fa fa-chevron-left"></i> Python基础
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/01/12/爬虫基础/" rel="prev" title="爬虫基础">
                爬虫基础 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/morty.png" alt="Lucas Chan">
            
              <p class="site-author-name" itemprop="name">Lucas Chan</p>
              <p class="site-description motion-element" itemprop="description">满地都是六便士,他却抬头看到了月亮。</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">27</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/hackcraker" title="GitHub &rarr; https://github.com/hackcraker" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://instagram.com/hackcraker" title="Instagram &rarr; https://instagram.com/hackcraker" rel="noopener" target="_blank"><i class="fa fa-fw fa-instagram"></i>Instagram</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.douban.com/people/hackcraker" title="豆瓣 &rarr; https://www.douban.com/people/hackcraker" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>豆瓣</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#overview"><span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#array-and-sorting-algorithms"><span class="nav-text">Array and Sorting Algorithms</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#selection-sort"><span class="nav-text">Selection Sort</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#merge-sort"><span class="nav-text">Merge sort</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#quick-sort"><span class="nav-text">Quick sort</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#recursion-i"><span class="nav-text">Recursion I</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#binary-search"><span class="nav-text">Binary Search</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#queue-stack"><span class="nav-text">Queue &amp; Stack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#linkedlist"><span class="nav-text">LinkedList</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#binary-tree-binary-search-tree"><span class="nav-text">Binary Tree &amp; Binary Search Tree</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#heap"><span class="nav-text">Heap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#graph-i"><span class="nav-text">Graph I</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#breadth-first-search-bfs-1"><span class="nav-text">Breadth-First Search (BFS-1):</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#best-first-search-bfs-2"><span class="nav-text">Best First Search (BFS-2)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#string"><span class="nav-text">String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dynamic-programming-i"><span class="nav-text">Dynamic Programming I</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">  <a href="http://www.miitbeian.gov.cn" rel="noopener" target="_blank">京ICP备 - 1321131714 </a>&copy; 2018 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lucas Chan</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">96k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">1:28</span>
  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/bootstrap.js?v=7.0.1"></script>


  
  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: 'L5gR7yTYP8X0caW0Hie6bbev-gzGzoHsz',
    appKey: 'nWnbI4oH07bE20wyQ8mq9zVO',
    placeholder: 'ヾﾉ≧∀≦)o来啊，快活啊!',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false
  });
</script>




  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->





  

  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  

</body>
</html>
